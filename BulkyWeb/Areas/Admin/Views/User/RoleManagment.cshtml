@model RoleManagmentVM

<div class="card shadow border-0 mt-4 mb-5">
	<div class="card-header bg-secondary bg-gradient ms-0 py-4">
		<div class="row">
			<div class="col-12 text-center">
				<h2 class="py-2 text-white">Manage User Role</h2>
			</div>
		</div>
	</div>
	<div class="card-body p-4">
		<form class="row" method="post">
			<input asp-for="ApplicationUser.Id" hidden />
			<div class="form-floating mb-3 col-md-12">
				<input asp-for="ApplicationUser.Name" disabled class="form-control" />
				<label class="ms-2 text-muted">Name</label>
			</div>
			<div class="form-floating mb-3 col-md-12">
				<select asp-for="ApplicationUser.Role" asp-items="@Model.Roles" class="form-select">
				</select>
			</div>
				<div class="form-floating mb-3 col-md-12">
					<select asp-for="ApplicationUser.Company.Name" style="display:none" asp-items="@Model.Companys" class="form-select">
				</select>
			</div>
			<div class="col-6 col-md-3">
				<button type="submit" class="btn btn-primary form-control">Update</button>
			</div>
			<div class="col-6 col-md-3">
				<a asp-controller="User" asp-action="Index" class="btn btn-outline-primary border form-control">
					Back to List
				</a>
			</div>
		</form>
	</div>
</div>

@section Scripts {
	<script>
		$(document).ready(function () {
			$('#ApplicationUser_Role').change(function () {
				var selection = $('#ApplicationUser_Role Option:Selected').text();
				if (selection == 'Company') {
					$('#ApplicationUser_Company_Name').show();
				} else {
					$('#ApplicationUser_Company_Name').hide();
				}
			}).trigger('change');
		});
	</script>
}